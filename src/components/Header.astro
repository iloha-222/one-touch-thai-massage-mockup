---
interface Props {
  businessName?: string;
}

const { businessName = "One Touch Thai Massage" } = Astro.props;
---

<header class="header">
  <div class="container">
    <nav class="nav">
      <a href="/" class="logo">
        <img src="/icons/wellness/noun-hand-massage-6721994.svg" alt="" class="logo__icon" />
        <span class="logo__text">{businessName}</span>
      </a>

      <ul class="nav__links hide-mobile">
        <li><a href="#services" class="nav__link">Services</a></li>
        <li><a href="#about" class="nav__link">About</a></li>
        <li><a href="#testimonials" class="nav__link">Reviews</a></li>
        <li><a href="#location" class="nav__link">Location</a></li>
      </ul>

      <div class="nav__actions">
        <a href="tel:+61415458835" class="nav__phone hide-mobile">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
          </svg>
          0415 458 835
        </a>
        <a href="https://www.fresha.com/fr/lvp/one-touch-remedial-massage-in-toongabbie-second-avenue-toongabbie-G5RKVy" target="_blank" rel="noopener" class="btn btn--primary">
          Book Now
        </a>
        <button class="nav__toggle hide-desktop" aria-label="Toggle menu">
          <span class="hamburger"></span>
        </button>
      </div>
    </nav>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu hide-desktop">
    <ul class="mobile-menu__links">
      <li><a href="#services" class="mobile-menu__link">Services</a></li>
      <li><a href="#about" class="mobile-menu__link">About</a></li>
      <li><a href="#testimonials" class="mobile-menu__link">Reviews</a></li>
      <li><a href="#location" class="mobile-menu__link">Location</a></li>
      <li>
        <a href="tel:+61415458835" class="mobile-menu__link mobile-menu__link--phone">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
          </svg>
          0415 458 835
        </a>
      </li>
    </ul>
    <a href="https://www.fresha.com/fr/lvp/one-touch-remedial-massage-in-toongabbie-second-avenue-toongabbie-G5RKVy" target="_blank" rel="noopener" class="btn btn--primary mobile-menu__cta">
      Book Now
    </a>
  </div>
</header>

<style>
  .header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background-color: rgba(250, 246, 240, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid var(--color-border-light);
    transition: all var(--transition-base);
  }

  .nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: var(--header-height);
  }

  .logo {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
  }

  .logo__icon {
    width: 40px;
    height: 40px;
    filter: brightness(0) saturate(100%) invert(42%) sepia(10%) saturate(1200%) hue-rotate(75deg) brightness(90%) contrast(85%);
  }

  .logo__text {
    font-family: var(--font-heading);
    font-size: var(--text-xl);
    font-weight: 500;
    color: var(--color-text);
    letter-spacing: -0.01em;
  }

  .nav__links {
    display: flex;
    gap: var(--space-xl);
  }

  .nav__link {
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--color-text-muted);
    transition: color var(--transition-fast);
    position: relative;
  }

  .nav__link::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0;
    height: 2px;
    background-color: var(--color-primary);
    transition: width var(--transition-base);
  }

  .nav__link:hover {
    color: var(--color-primary);
  }

  .nav__link:hover::after {
    width: 100%;
  }

  .nav__actions {
    display: flex;
    align-items: center;
    gap: var(--space-lg);
  }

  .nav__phone {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--color-text-muted);
    transition: color var(--transition-fast);
  }

  .nav__phone:hover {
    color: var(--color-primary);
  }

  .nav__toggle {
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
  }

  .hamburger {
    width: 24px;
    height: 2px;
    background-color: var(--color-text);
    position: relative;
    transition: all var(--transition-base);
  }

  .hamburger::before,
  .hamburger::after {
    content: '';
    position: absolute;
    width: 24px;
    height: 2px;
    background-color: var(--color-text);
    left: 0;
    transition: all var(--transition-base);
  }

  .hamburger::before {
    top: -8px;
  }

  .hamburger::after {
    bottom: -8px;
  }

  .nav__toggle.active .hamburger {
    background-color: transparent;
  }

  .nav__toggle.active .hamburger::before {
    top: 0;
    transform: rotate(45deg);
  }

  .nav__toggle.active .hamburger::after {
    bottom: 0;
    transform: rotate(-45deg);
  }

  /* Mobile Menu */
  .mobile-menu {
    position: fixed;
    top: var(--header-height);
    left: 0;
    right: 0;
    background-color: var(--color-background);
    padding: var(--space-xl) var(--space-lg);
    transform: translateY(-100%);
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-base);
    border-bottom: 1px solid var(--color-border-light);
    z-index: 99;
  }

  .mobile-menu.active {
    transform: translateY(0);
    opacity: 1;
    visibility: visible;
  }

  .mobile-menu__links {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
  }

  .mobile-menu__link {
    font-size: var(--text-lg);
    font-weight: 500;
    color: var(--color-text);
    padding: var(--space-sm) 0;
    border-bottom: 1px solid var(--color-border-light);
  }

  .mobile-menu__link--phone {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    color: var(--color-primary);
  }

  .mobile-menu__cta {
    width: 100%;
    justify-content: center;
  }

  @media (max-width: 768px) {
    .logo__text {
      font-size: var(--text-lg);
    }
  }

  @media (max-width: 400px) {
    .logo__text {
      display: none;
    }
  }
</style>

<script>
  const toggle = document.querySelector('.nav__toggle');
  const mobileMenu = document.querySelector('.mobile-menu');
  const mobileLinks = document.querySelectorAll('.mobile-menu__link');

  toggle?.addEventListener('click', () => {
    toggle.classList.toggle('active');
    mobileMenu?.classList.toggle('active');
  });

  mobileLinks.forEach(link => {
    link.addEventListener('click', () => {
      toggle?.classList.remove('active');
      mobileMenu?.classList.remove('active');
    });
  });
</script>
